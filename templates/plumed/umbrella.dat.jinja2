# PLUMED umbrella sampling input — generated by md_agent
# Window center: {{ window_center }} | Force constant: {{ force_constant }} kJ/mol/nm^2

# ── Collective Variable ───────────────────────────────────────────────
{% if cv.type == "DISTANCE" %}
{{ cv.name }}: DISTANCE ATOMS={{ cv.atoms | join(",") }}
{% elif cv.type == "TORSION" %}
{{ cv.name }}: TORSION ATOMS={{ cv.atoms | join(",") }}
{% elif cv.type == "ANGLE" %}
{{ cv.name }}: ANGLE ATOMS={{ cv.atoms | join(",") }}
{% elif cv.type == "RMSD" %}
{{ cv.name }}: RMSD REFERENCE={{ cv.reference }} TYPE={{ cv.rmsd_type | default("OPTIMAL") }}
{% else %}
{{ cv.name }}: {{ cv.type }}{% if cv.atoms %} ATOMS={{ cv.atoms | join(",") }}{% endif %}
{% endif %}

# ── Harmonic Restraint ────────────────────────────────────────────────
restraint: RESTRAINT ARG={{ cv.name }} AT={{ window_center }} KAPPA={{ force_constant }}

# ── Output ───────────────────────────────────────────────────────────
PRINT ARG={{ cv.name }},restraint.bias STRIDE={{ colvar_stride }} FILE={{ colvar_file }}
FLUSH STRIDE={{ colvar_stride }}
